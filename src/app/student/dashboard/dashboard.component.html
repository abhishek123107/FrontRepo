<app-navbar></app-navbar>
<div class="container-fluid mt-4">
  <div class="row">
    <!-- Welcome Section -->
    <div class="col-12 mb-4">
      <div class="card bg-primary text-white">
        <div class="card-body">
          <h4 class="card-title">üéì Welcome to Student Dashboard</h4>
          <p class="card-text">Manage your library activities, book seats, track attendance, and stay updated with notifications.</p>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <!-- Student Management Sidebar -->
    <div class="col-12 col-md-3">
      <div class="card">
        <div class="card-header bg-primary text-white">
          <h5>üìä Student Management</h5>
        </div>
        <div class="card-body">
          <ul class="list-group list-group-flush">

            <!-- User Dashboard -->
            <li class="list-group-item">
              <a
                routerLink="/student"
                routerLinkActive="active"
                class="btn btn-outline-primary w-100"
                ><i class="fas fa-tachometer-alt me-2"></i>Dashboard Overview</a
              >
            </li>

            <!-- Seat Management -->
            <li class="list-group-item">
              <a
                [routerLink]="['book-seat']"
                routerLinkActive="active"
                class="btn btn-outline-primary w-100"
                ><i class="fas fa-chair me-2"></i>Book Seat</a
              >
            </li>

            <!-- Attendance Management -->
            <li class="list-group-item">
              <a
                [routerLink]="['attendance']"
                routerLinkActive="active"
                class="btn btn-outline-secondary w-100"
                ><i class="fas fa-calendar-check me-2"></i>Mark Attendance</a
              >
            </li>

            <!-- Payment Management -->
            <li class="list-group-item">
              <a
                [routerLink]="['payments']"
                routerLinkActive="active"
                class="btn btn-outline-success w-100"
                ><i class="fas fa-credit-card me-2"></i>Payment History</a
              >
            </li>

            <!-- Profile Management -->
            <li class="list-group-item">
              <a
                [routerLink]="['profile']"
                routerLinkActive="active"
                class="btn btn-outline-info w-100"
                ><i class="fas fa-user me-2"></i>My Profile</a
              >
            </li>

          </ul>
        </div>
      </div>

      <!-- Communication & Analysis -->
      <div class="card mt-3">
        <div class="card-header bg-info text-white">
          <h5>üì¢ Communication & Analysis</h5>
        </div>
        <div class="card-body">
          <ul class="list-group list-group-flush">

            <!-- Notifications from Admin -->
            <li class="list-group-item">
              <a
                [routerLink]="['notifications']"
                routerLinkActive="active"
                class="btn btn-outline-warning w-100"
                ><i class="fas fa-bell me-2"></i>Notifications</a
              >
            </li>

            <!-- Send Notifications (if allowed) -->
            <li class="list-group-item">
              <a
                routerLink="/admin/notifications"
                routerLinkActive="active"
                class="btn btn-outline-danger w-100"
                *ngIf="isAdmin()"
                ><i class="fas fa-paper-plane me-2"></i>Send Notifications</a
              >
            </li>

            <!-- Feedback Analysis -->
            <li class="list-group-item">
              <a
                routerLink="/admin/feedback"
                routerLinkActive="active"
                class="btn btn-outline-dark w-100"
                *ngIf="isAdmin()"
                ><i class="fas fa-chart-bar me-2"></i>Feedback Analysis</a
              >
            </li>

          </ul>
        </div>
      </div>

      <!-- Admin Panel Access (for admins only) -->
      <div class="card mt-3" *ngIf="isAdmin()">
        <div class="card-header bg-danger text-white">
          <h5>‚öôÔ∏è Admin Panel</h5>
        </div>
        <div class="card-body">
          <ul class="list-group list-group-flush">

            <li class="list-group-item">
              <a
                routerLink="/admin/seats"
                routerLinkActive="active"
                class="btn btn-outline-danger w-100"
                ><i class="fas fa-cogs me-2"></i>Seat Management</a
              >
            </li>

            <li class="list-group-item">
              <a
                routerLink="/admin/attendance"
                routerLinkActive="active"
                class="btn btn-outline-danger w-100"
                ><i class="fas fa-users-cog me-2"></i>Attendance Panel</a
              >
            </li>

            <li class="list-group-item">
              <a
                routerLink="/admin/payments"
                routerLinkActive="active"
                class="btn btn-outline-danger w-100"
                ><i class="fas fa-money-check-alt me-2"></i>Payment Verification</a
              >
            </li>

            <li class="list-group-item">
              <a
                routerLink="/admin/leaderboard"
                routerLinkActive="active"
                class="btn btn-outline-danger w-100"
                ><i class="fas fa-trophy me-2"></i>Leaderboard</a
              >
            </li>

          </ul>
        </div>
      </div>

    </div>

    <!-- Main Content Area -->
    <div class="col-12 col-md-9">
      <router-outlet></router-outlet>

      <!-- Default Dashboard Content (when no route is selected) -->
      <div *ngIf="!hasActiveRoute()" class="dashboard-overview">
        <div class="row">

          <!-- Quick Stats -->
          <div class="col-md-6 mb-4">
            <div class="card">
              <div class="card-header">
                <h5>üìà Your Activity Overview</h5>
              </div>
              <div class="card-body">
                <div class="row text-center">
                  <div class="col-6">
                    <h3 class="text-primary">5</h3>
                    <p class="text-muted">Total Bookings</p>
                  </div>
                  <div class="col-6">
                    <h3 class="text-success">12</h3>
                    <p class="text-muted">Attendance Days</p>
                  </div>
                </div>
                <hr>
                <div class="row text-center">
                  <div class="col-6">
                    <h3 class="text-info">3</h3>
                    <p class="text-muted">Payments Made</p>
                  </div>
                  <div class="col-6">
                    <h3 class="text-warning">2</h3>
                    <p class="text-muted">Pending Approvals</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Recent Activity -->
          <div class="col-md-6 mb-4">
            <div class="card">
              <div class="card-header">
                <h5>üîî Recent Activity</h5>
              </div>
              <div class="card-body">
                <div class="list-group list-group-flush">
                  <div class="list-group-item">
                    <small class="text-muted">2 hours ago</small>
                    <p class="mb-1">Seat booked for Study Room A-15</p>
                  </div>
                  <div class="list-group-item">
                    <small class="text-muted">1 day ago</small>
                    <p class="mb-1">Attendance marked successfully</p>
                  </div>
                  <div class="list-group-item">
                    <small class="text-muted">3 days ago</small>
                    <p class="mb-1">Payment submitted for membership</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


